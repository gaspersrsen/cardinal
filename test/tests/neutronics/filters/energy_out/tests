[Tests]
  [energy_cell_bnds]
    type = CSVDiff
    input = cell.i
    csvdiff = cell_out.csv
    cli_args = 'Problem/Filters/EnergyOut/energy_boundaries="0.0 6.25e-1 2.0e7"'
    requirement = "The system shall be capable of adding an EnergyOutFilter (with energy boundaries provided)."
    required_objects = 'OpenMCCellAverageProblem'
  []
  [energy_cell_structure]
    type = CSVDiff
    input = cell.i
    csvdiff = cell_out.csv
    cli_args = 'Problem/Filters/EnergyOut/group_structure=CASMO_2'
    requirement = "The system shall be capable of adding an EnergyOutFilter (with a group structure)."
    required_objects = 'OpenMCCellAverageProblem'
  []
  [not_enough_bnds]
    type = RunException
    input = cell.i
    cli_args = 'Problem/Filters/EnergyOut/energy_boundaries="1.0"'
    expect_err = "At least two energy values are required to create energy bins!"
    requirement = "The system shall error if there aren't enough energy boundaries to form an EnergyOutFilter."
    required_objects = 'OpenMCCellAverageProblem'
  []
  [bnds_wrong_order]
    type = CSVDiff
    input = cell.i
    cli_args = 'Problem/Filters/EnergyOut/energy_boundaries="2.0e7 6.25e-1 0.0"'
    csvdiff = cell_out.csv
    requirement = "The system shall automatically sort bins to ensure they're monotonically increasing."
    required_objects = 'OpenMCCellAverageProblem'
  []
  [missing_bins]
    type = RunException
    input = cell.i
    expect_err = "You have either set both 'energy_boundaries' and 'group_structure' or have not "
                 "specified a bin option. Please specify either 'energy_boundaries' or "
                 "'group_structure'."
    requirement = "The system shall error if no energy bins are provided."
    required_objects = 'OpenMCCellAverageProblem'
  []
  [both_bins]
    type = RunException
    input = cell.i
    cli_args = 'Problem/Filters/EnergyOut/group_structure=CASMO_2 Problem/Filters/EnergyOut/energy_boundaries="0.0 6.25e-1 2.0e7"'
    expect_err = "You have either set both 'energy_boundaries' and 'group_structure' or have not "
                 "specified a bin option. Please specify either 'energy_boundaries' or "
                 "'group_structure'."
    requirement = "The system shall error if both energy bin types are provided."
    required_objects = 'OpenMCCellAverageProblem'
  []
[]
