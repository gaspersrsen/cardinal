[Tests]
  issues = '#1020'

  [diffusion_coefficient]
    design = 'ComputeDiffusionCoeffMGAux.md'

    [calc]
      type = CSVDiff
      input = mg_diffusion_coeff.i
      csvdiff = mg_diffusion_coeff_out.csv
      requirement = "The system shall support the calculation of multi-group particle diffusion coefficients."
      required_objects = 'OpenMCCellAverageProblem'
    []
    [catch_zero_flux]
      type = CSVDiff
      input = mg_diffusion_coeff.i
      csvdiff = zero_flux_diff_out.csv
      cli_args = "Outputs/file_base='zero_flux_diff_out' AuxKernels/comp_diff_g1/scalar_flux='zero_flux'"
      requirement = "The system shall prevent divide by zeros when calculating multi-group diffusion coefficients. "
                    "This also checks for cases where the transport cross section is zero."
      required_objects = 'OpenMCCellAverageProblem'
    []
  []

  [transport_scattering]
    design = 'ComputeTCScatterMGXSAux.md'

    [calc]
      type = CSVDiff
      input = mg_tc_scatter_xs.i
      csvdiff = mg_tc_scatter_xs_out.csv
      requirement = "The system shall support the calculation of multi-group transport corrected P0 scattering cross sections."
      required_objects = 'OpenMCCellAverageProblem'
    []
    [catch_zero_flux]
      type = CSVDiff
      input = mg_tc_scatter_xs.i
      csvdiff = mg_tc_scatter_xs_out.csv
      cli_args = "Outputs/file_base='zero_flux_tc_out' AuxKernels/comp_scatter_g1_g1_l0/scalar_flux='zero_flux'"
      requirement = "The system shall prevent divide by zeros when calculating transport corrected P0 scattering cross sections."
      required_objects = 'OpenMCCellAverageProblem'
    []
  []

  [generic_mgxs]
    design = 'ComputeMGXSAux.md'

    [calc]
    []
    [catch_zero_flux]
    []
  []
[]
